"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.SYNTHETIC = undefined;

var _nodes = require("./types/nodes");

var AST = _interopRequireWildcard(_nodes);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function buildMustache(path, params, hash, raw, loc) {
    if (!AST.isLiteral(path)) {
        path = buildPath(path);
    }
    return {
        type: "MustacheStatement",
        path: path,
        params: params || [],
        hash: hash || buildHash([]),
        escaped: !raw,
        loc: buildLoc(loc || null)
    };
}
function buildBlock(path, params, hash, program, inverse, loc) {
    return {
        type: "BlockStatement",
        path: buildPath(path),
        params: params || [],
        hash: hash || buildHash([]),
        program: program || null,
        inverse: inverse || null,
        loc: buildLoc(loc || null)
    };
}
function buildElementModifier(path, params, hash, loc) {
    return {
        type: "ElementModifierStatement",
        path: buildPath(path),
        params: params || [],
        hash: hash || buildHash([]),
        loc: buildLoc(loc || null)
    };
}
function buildPartial(name, params, hash, indent, loc) {
    return {
        type: "PartialStatement",
        name: name,
        params: params || [],
        hash: hash || buildHash([]),
        indent: indent || '',
        strip: { open: false, close: false },
        loc: buildLoc(loc || null)
    };
}
function buildComment(value, loc) {
    return {
        type: "CommentStatement",
        value: value,
        loc: buildLoc(loc || null)
    };
}
function buildMustacheComment(value, loc) {
    return {
        type: "MustacheCommentStatement",
        value: value,
        loc: buildLoc(loc || null)
    };
}
function buildConcat(parts, loc) {
    return {
        type: "ConcatStatement",
        parts: parts || [],
        loc: buildLoc(loc || null)
    };
}
function buildElement(tag, attributes, modifiers, children, comments, loc) {
    // this is used for backwards compat prior to `comments` being added to the AST
    if (!Array.isArray(comments)) {
        loc = comments;
        comments = [];
    }
    return {
        type: "ElementNode",
        tag: tag || "",
        attributes: attributes || [],
        blockParams: [],
        modifiers: modifiers || [],
        comments: comments || [],
        children: children || [],
        loc: buildLoc(loc || null)
    };
}
function buildAttr(name, value, loc) {
    return {
        type: "AttrNode",
        name: name,
        value: value,
        loc: buildLoc(loc || null)
    };
}
function buildText(chars, loc) {
    return {
        type: "TextNode",
        chars: chars || "",
        loc: buildLoc(loc || null)
    };
}
// Expressions
function buildSexpr(path, params, hash, loc) {
    return {
        type: "SubExpression",
        path: buildPath(path),
        params: params || [],
        hash: hash || buildHash([]),
        loc: buildLoc(loc || null)
    };
}
function buildPath(original, loc) {
    if (typeof original !== 'string') return original;
    var parts = original.split('.');
    var thisHead = false;
    if (parts[0] === 'this') {
        thisHead = true;
        parts = parts.slice(1);
    }
    return {
        type: "PathExpression",
        original: original,
        this: thisHead,
        parts: parts,
        data: false,
        loc: buildLoc(loc || null)
    };
}
function buildLiteral(type, value, loc) {
    return {
        type: type,
        value: value,
        original: value,
        loc: buildLoc(loc || null)
    };
}
// Miscellaneous
function buildHash(pairs, loc) {
    return {
        type: "Hash",
        pairs: pairs || [],
        loc: buildLoc(loc || null)
    };
}
function buildPair(key, value, loc) {
    return {
        type: "HashPair",
        key: key,
        value: value,
        loc: buildLoc(loc || null)
    };
}
function buildProgram(body, blockParams, loc) {
    return {
        type: "Program",
        body: body || [],
        blockParams: blockParams || [],
        loc: buildLoc(loc || null)
    };
}
function buildSource(source) {
    return source || null;
}
function buildPosition(line, column) {
    return {
        line: line,
        column: column
    };
}
var SYNTHETIC = exports.SYNTHETIC = { source: '(synthetic)', start: { line: 1, column: 0 }, end: { line: 1, column: 0 } };
function buildLoc() {
    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
    }

    if (args.length === 1) {
        var loc = args[0];
        if (loc && typeof loc === 'object') {
            return {
                source: buildSource(loc.source),
                start: buildPosition(loc.start.line, loc.start.column),
                end: buildPosition(loc.end.line, loc.end.column)
            };
        } else {
            return SYNTHETIC;
        }
    } else {
        var startLine = args[0],
            startColumn = args[1],
            endLine = args[2],
            endColumn = args[3],
            source = args[4];

        return {
            source: buildSource(source),
            start: buildPosition(startLine, startColumn),
            end: buildPosition(endLine, endColumn)
        };
    }
}
exports.default = {
    mustache: buildMustache,
    block: buildBlock,
    partial: buildPartial,
    comment: buildComment,
    mustacheComment: buildMustacheComment,
    element: buildElement,
    elementModifier: buildElementModifier,
    attr: buildAttr,
    text: buildText,
    sexpr: buildSexpr,
    path: buildPath,
    concat: buildConcat,
    hash: buildHash,
    pair: buildPair,
    literal: buildLiteral,
    program: buildProgram,
    loc: buildLoc,
    pos: buildPosition,
    string: literal('StringLiteral'),
    boolean: literal('BooleanLiteral'),
    number: literal('NumberLiteral'),
    undefined: function (_undefined) {
        function undefined() {
            return _undefined.apply(this, arguments);
        }

        undefined.toString = function () {
            return _undefined.toString();
        };

        return undefined;
    }(function () {
        return buildLiteral('UndefinedLiteral', undefined);
    }),
    null: function _null() {
        return buildLiteral('NullLiteral', null);
    }
};

function literal(type) {
    return function (value) {
        return buildLiteral(type, value);
    };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVpbGRlcnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wYWNrYWdlcy9AZ2xpbW1lci9zeW50YXgvbGliL2J1aWxkZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxBQUFPOztJQUFLLEFBQUcsQUFBTSxBQUFlLEFBQUM7Ozs7QUFPckMsdUJBQXVCLEFBQStCLE1BQUUsQUFBeUIsUUFBRSxBQUFlLE1BQUUsQUFBYSxLQUFFLEFBQXdCLEtBQ3pJLEFBQUUsQUFBQztRQUFDLENBQUMsQUFBRyxJQUFDLEFBQVMsVUFBQyxBQUFJLEFBQUMsQUFBQyxPQUFDLEFBQUMsQUFDekIsQUFBSTtlQUFHLEFBQVMsVUFBQyxBQUFJLEFBQUMsQUFBQyxBQUN6QixBQUFDLEFBRUQsQUFBTTs7O2NBQ0UsQUFBbUIsQUFDekIsQUFBSSxBQUNKLEFBQU07O2dCQUFFLEFBQU0sVUFBSSxBQUFFLEFBQ3BCLEFBQUk7Y0FBRSxBQUFJLFFBQUksQUFBUyxVQUFDLEFBQUUsQUFBQyxBQUMzQixBQUFPO2lCQUFFLENBQUMsQUFBRyxBQUNiLEFBQUc7YUFBRSxBQUFRLFNBQUMsQUFBRyxPQU5aLEFBQ0wsQUFBSSxBQUtpQixBQUFJLEFBQUMsQUFDM0IsQUFBQyxBQUNKLEFBQUM7OztBQUVELG9CQUFvQixBQUFpQixNQUFFLEFBQWdDLFFBQUUsQUFBc0IsTUFBRSxBQUFvQixTQUFFLEFBQTZCLFNBQUUsQUFBd0IsS0FDNUssQUFBTTs7Y0FDRSxBQUFnQixBQUN0QixBQUFJO2NBQUUsQUFBUyxVQUFDLEFBQUksQUFBQyxBQUNyQixBQUFNO2dCQUFFLEFBQU0sVUFBSSxBQUFFLEFBQ3BCLEFBQUk7Y0FBRSxBQUFJLFFBQUksQUFBUyxVQUFDLEFBQUUsQUFBQyxBQUMzQixBQUFPO2lCQUFFLEFBQU8sV0FBSSxBQUFJLEFBQ3hCLEFBQU87aUJBQUUsQUFBTyxXQUFJLEFBQUksQUFDeEIsQUFBRzthQUFFLEFBQVEsU0FBQyxBQUFHLE9B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QUFpQixPQUMvQixBQUFNO2VBQUMsQUFBWSxhQUFDLEFBQUksTUFBRSxBQUFLLEFBQUMsQUFBQyxBQUNuQyxBQUFDLEFBQUMsQUFDSixBQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQVNUIGZyb20gJy4vdHlwZXMvbm9kZXMnO1xuaW1wb3J0IHsgT3B0aW9uIH0gZnJvbSAnQGdsaW1tZXIvaW50ZXJmYWNlcyc7XG5cbi8vIFN0YXRlbWVudHNcblxuZXhwb3J0IHR5cGUgQnVpbGRlclBhdGggPSBzdHJpbmcgfCBBU1QuUGF0aEV4cHJlc3Npb247XG5cbmZ1bmN0aW9uIGJ1aWxkTXVzdGFjaGUocGF0aDogQnVpbGRlclBhdGggfCBBU1QuTGl0ZXJhbCwgcGFyYW1zPzogQVNULkV4cHJlc3Npb25bXSwgaGFzaD86IEFTVC5IYXNoLCByYXc/OiBib29sZWFuLCBsb2M/OiBBU1QuU291cmNlTG9jYXRpb24pOiBBU1QuTXVzdGFjaGVTdGF0ZW1lbnQge1xuICBpZiAoIUFTVC5pc0xpdGVyYWwocGF0aCkpIHtcbiAgICBwYXRoID0gYnVpbGRQYXRoKHBhdGgpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcIk11c3RhY2hlU3RhdGVtZW50XCIsXG4gICAgcGF0aCxcbiAgICBwYXJhbXM6IHBhcmFtcyB8fCBbXSxcbiAgICBoYXNoOiBoYXNoIHx8IGJ1aWxkSGFzaChbXSksXG4gICAgZXNjYXBlZDogIXJhdyxcbiAgICBsb2M6IGJ1aWxkTG9jKGxvYyB8fCBudWxsKVxuICB9O1xufVxuXG5mdW5jdGlvbiBidWlsZEJsb2NrKHBhdGg6IEJ1aWxkZXJQYXRoLCBwYXJhbXM6IE9wdGlvbjxBU1QuRXhwcmVzc2lvbltdPiwgaGFzaDogT3B0aW9uPEFTVC5IYXNoPiwgcHJvZ3JhbTogQVNULlByb2dyYW0sIGludmVyc2U/OiBPcHRpb248QVNULlByb2dyYW0+LCBsb2M/OiBBU1QuU291cmNlTG9jYXRpb24pOiBBU1QuQmxvY2tTdGF0ZW1lbnQge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwiQmxvY2tTdGF0ZW1lbnRcIixcbiAgICBwYXRoOiBidWlsZFBhdGgocGF0aCksXG4gICAgcGFyYW1zOiBwYXJhbXMgfHwgW10sXG4gICAgaGFzaDogaGFzaCB8fCBidWlsZEhhc2goW10pLFxuICAgIHByb2dyYW06IHByb2dyYW0gfHwgbnVsbCxcbiAgICBpbnZlcnNlOiBpbnZlcnNlIHx8IG51bGwsXG4gICAgbG9jOiBidWlsZExvYyhsb2MgfHwgbnVsbClcbiAgfTtcbn1cblxuZnVuY3Rpb24gYnVpbGRFbGVtZW50TW9kaWZpZXIocGF0aDogQnVpbGRlclBhdGgsIHBhcmFtcz86IEFTVC5FeHByZXNzaW9uW10sIGhhc2g/OiBBU1QuSGFzaCwgbG9jPzogT3B0aW9uPEFTVC5Tb3VyY2VMb2NhdGlvbj4pOiBBU1QuRWxlbWVudE1vZGlmaWVyU3RhdGVtZW50IHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcIkVsZW1lbnRNb2RpZmllclN0YXRlbWVudFwiLFxuICAgIHBhdGg6IGJ1aWxkUGF0aChwYXRoKSxcbiAgICBwYXJhbXM6IHBhcmFtcyB8fCBbXSxcbiAgICBoYXNoOiBoYXNoIHx8IGJ1aWxkSGFzaChbXSksXG4gICAgbG9jOiBidWlsZExvYyhsb2MgfHwgbnVsbClcbiAgfTtcbn1cblxuZnVuY3Rpb24gYnVpbGRQYXJ0aWFsKG5hbWU6IEFTVC5QYXRoRXhwcmVzc2lvbiwgcGFyYW1zPzogQVNULkV4cHJlc3Npb25bXSwgaGFzaD86IEFTVC5IYXNoLCBpbmRlbnQ/OiBzdHJpbmcsIGxvYz86IEFTVC5Tb3VyY2VMb2NhdGlvbik6IEFTVC5QYXJ0aWFsU3RhdGVtZW50IHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcIlBhcnRpYWxTdGF0ZW1lbnRcIixcbiAgICBuYW1lOiBuYW1lLFxuICAgIHBhcmFtczogcGFyYW1zIHx8IFtdLFxuICAgIGhhc2g6IGhhc2ggfHwgYnVpbGRIYXNoKFtdKSxcbiAgICBpbmRlbnQ6IGluZGVudCB8fCAnJyxcbiAgICBzdHJpcDogeyBvcGVuOiBmYWxzZSwgY2xvc2U6IGZhbHNlIH0sXG4gICAgbG9jOiBidWlsZExvYyhsb2MgfHwgbnVsbClcbiAgfTtcbn1cblxuZnVuY3Rpb24gYnVpbGRDb21tZW50KHZhbHVlOiBzdHJpbmcsIGxvYz86IEFTVC5Tb3VyY2VMb2NhdGlvbik6IEFTVC5Db21tZW50U3RhdGVtZW50IHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcIkNvbW1lbnRTdGF0ZW1lbnRcIixcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgbG9jOiBidWlsZExvYyhsb2MgfHwgbnVsbClcbiAgfTtcbn1cblxuZnVuY3Rpb24gYnVpbGRNdXN0YWNoZUNvbW1lbnQodmFsdWU6IHN0cmluZywgbG9jPzogQVNULlNvdXJjZUxvY2F0aW9uKTogQVNULk11c3RhY2hlQ29tbWVudFN0YXRlbWVudCB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJNdXN0YWNoZUNvbW1lbnRTdGF0ZW1lbnRcIixcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgbG9jOiBidWlsZExvYyhsb2MgfHwgbnVsbClcbiAgfTtcbn1cblxuZnVuY3Rpb24gYnVpbGRDb25jYXQocGFydHM6IChBU1QuVGV4dE5vZGUgfCBBU1QuTXVzdGFjaGVTdGF0ZW1lbnQpW10sIGxvYz86IEFTVC5Tb3VyY2VMb2NhdGlvbik6IEFTVC5Db25jYXRTdGF0ZW1lbnQge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwiQ29uY2F0U3RhdGVtZW50XCIsXG4gICAgcGFydHM6IHBhcnRzIHx8IFtdLFxuICAgIGxvYzogYnVpbGRMb2MobG9jIHx8IG51bGwpXG4gIH07XG59XG5cbi8vIE5vZGVzXG5cbmZ1bmN0aW9uIGJ1aWxkRWxlbWVudCh0YWc6IHN0cmluZywgYXR0cmlidXRlcz86IEFTVC5BdHRyTm9kZVtdLCBtb2RpZmllcnM/OiBBU1QuRWxlbWVudE1vZGlmaWVyU3RhdGVtZW50W10sIGNoaWxkcmVuPzogQVNULlN0YXRlbWVudFtdLCBsb2M/OiBBU1QuU291cmNlTG9jYXRpb24pOiBBU1QuRWxlbWVudE5vZGU7XG5mdW5jdGlvbiBidWlsZEVsZW1lbnQodGFnOiBzdHJpbmcsIGF0dHJpYnV0ZXM/OiBBU1QuQXR0ck5vZGVbXSwgbW9kaWZpZXJzPzogQVNULkVsZW1lbnRNb2RpZmllclN0YXRlbWVudFtdLCBjaGlsZHJlbj86IEFTVC5TdGF0ZW1lbnRbXSwgY29tbWVudHM/OiBBU1QuTXVzdGFjaGVDb21tZW50U3RhdGVtZW50W10sIGxvYz86IEFTVC5Tb3VyY2VMb2NhdGlvbik6IEFTVC5FbGVtZW50Tm9kZTtcblxuZnVuY3Rpb24gYnVpbGRFbGVtZW50KHRhZzogc3RyaW5nLCBhdHRyaWJ1dGVzPzogQVNULkF0dHJOb2RlW10sIG1vZGlmaWVycz86IEFTVC5FbGVtZW50TW9kaWZpZXJTdGF0ZW1lbnRbXSwgY2hpbGRyZW4/OiBBU1QuU3RhdGVtZW50W10sIGNvbW1lbnRzPzogQVNULk11c3RhY2hlQ29tbWVudFN0YXRlbWVudFtdIHwgQVNULlNvdXJjZUxvY2F0aW9uLCBsb2M/OiBBU1QuU291cmNlTG9jYXRpb24pOiBBU1QuRWxlbWVudE5vZGUge1xuICAvLyB0aGlzIGlzIHVzZWQgZm9yIGJhY2t3YXJkcyBjb21wYXQgcHJpb3IgdG8gYGNvbW1lbnRzYCBiZWluZyBhZGRlZCB0byB0aGUgQVNUXG4gIGlmICghQXJyYXkuaXNBcnJheShjb21tZW50cykpIHtcbiAgICBsb2MgPSBjb21tZW50cztcbiAgICBjb21tZW50cyA9IFtdO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcIkVsZW1lbnROb2RlXCIsXG4gICAgdGFnOiB0YWcgfHwgXCJcIixcbiAgICBhdHRyaWJ1dGVzOiBhdHRyaWJ1dGVzIHx8IFtdLFxuICAgIGJsb2NrUGFyYW1zOiBbXSxcbiAgICBtb2RpZmllcnM6IG1vZGlmaWVycyB8fCBbXSxcbiAgICBjb21tZW50czogY29tbWVudHMgfHwgW10sXG4gICAgY2hpbGRyZW46IGNoaWxkcmVuIHx8IFtdLFxuICAgIGxvYzogYnVpbGRMb2MobG9jIHx8IG51bGwpXG4gIH07XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQXR0cihuYW1lOiBzdHJpbmcsIHZhbHVlOiBBU1QuQXR0ck5vZGVbJ3ZhbHVlJ10sIGxvYz86IEFTVC5Tb3VyY2VMb2NhdGlvbik6IEFTVC5BdHRyTm9kZSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJBdHRyTm9kZVwiLFxuICAgIG5hbWU6IG5hbWUsXG4gICAgdmFsdWU6IHZhbHVlLFxuICAgIGxvYzogYnVpbGRMb2MobG9jIHx8IG51bGwpXG4gIH07XG59XG5cbmZ1bmN0aW9uIGJ1aWxkVGV4dChjaGFycz86IHN0cmluZywgbG9jPzogQVNULlNvdXJjZUxvY2F0aW9uKTogQVNULlRleHROb2RlIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcIlRleHROb2RlXCIsXG4gICAgY2hhcnM6IGNoYXJzIHx8IFwiXCIsXG4gICAgbG9jOiBidWlsZExvYyhsb2MgfHwgbnVsbClcbiAgfTtcbn1cblxuLy8gRXhwcmVzc2lvbnNcblxuZnVuY3Rpb24gYnVpbGRTZXhwcihwYXRoOiBBU1QuUGF0aEV4cHJlc3Npb24sIHBhcmFtcz86IEFTVC5FeHByZXNzaW9uW10sIGhhc2g/OiBBU1QuSGFzaCwgbG9jPzogQVNULlNvdXJjZUxvY2F0aW9uKTogQVNULlN1YkV4cHJlc3Npb24ge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwiU3ViRXhwcmVzc2lvblwiLFxuICAgIHBhdGg6IGJ1aWxkUGF0aChwYXRoKSxcbiAgICBwYXJhbXM6IHBhcmFtcyB8fCBbXSxcbiAgICBoYXNoOiBoYXNoIHx8IGJ1aWxkSGFzaChbXSksXG4gICAgbG9jOiBidWlsZExvYyhsb2MgfHwgbnVsbClcbiAgfTtcbn1cblxuZnVuY3Rpb24gYnVpbGRQYXRoKG9yaWdpbmFsOiBCdWlsZGVyUGF0aCwgbG9jPzogQVNULlNvdXJjZUxvY2F0aW9uKTogQVNULlBhdGhFeHByZXNzaW9uIHtcbiAgaWYgKHR5cGVvZiBvcmlnaW5hbCAhPT0gJ3N0cmluZycpIHJldHVybiBvcmlnaW5hbDtcblxuICBsZXQgcGFydHMgPSBvcmlnaW5hbC5zcGxpdCgnLicpO1xuICBsZXQgdGhpc0hlYWQgPSBmYWxzZTtcblxuICBpZiAocGFydHNbMF0gPT09ICd0aGlzJykge1xuICAgIHRoaXNIZWFkID0gdHJ1ZTtcbiAgICBwYXJ0cyA9IHBhcnRzLnNsaWNlKDEpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcIlBhdGhFeHByZXNzaW9uXCIsXG4gICAgb3JpZ2luYWwsXG4gICAgdGhpczogdGhpc0hlYWQsXG4gICAgcGFydHMsXG4gICAgZGF0YTogZmFsc2UsXG4gICAgbG9jOiBidWlsZExvYyhsb2MgfHwgbnVsbClcbiAgfTtcbn1cblxuZnVuY3Rpb24gYnVpbGRMaXRlcmFsPFQgZXh0ZW5kcyBBU1QuTGl0ZXJhbD4odHlwZTogVFsndHlwZSddLCB2YWx1ZTogVFsndmFsdWUnXSwgbG9jPzogQVNULlNvdXJjZUxvY2F0aW9uKTogQVNULkxpdGVyYWwge1xuICByZXR1cm4ge1xuICAgIHR5cGUsXG4gICAgdmFsdWUsXG4gICAgb3JpZ2luYWw6IHZhbHVlLFxuICAgIGxvYzogYnVpbGRMb2MobG9jIHx8IG51bGwpXG4gIH0gYXMgQVNULkxpdGVyYWw7XG59XG5cbi8vIE1pc2NlbGxhbmVvdXNcblxuZnVuY3Rpb24gYnVpbGRIYXNoKHBhaXJzPzogQVNULkhhc2hQYWlyW10sIGxvYz86IEFTVC5Tb3VyY2VMb2NhdGlvbik6IEFTVC5IYXNoIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcIkhhc2hcIixcbiAgICBwYWlyczogcGFpcnMgfHwgW10sXG4gICAgbG9jOiBidWlsZExvYyhsb2MgfHwgbnVsbClcbiAgfTtcbn1cblxuZnVuY3Rpb24gYnVpbGRQYWlyKGtleTogc3RyaW5nLCB2YWx1ZTogQVNULkV4cHJlc3Npb24sIGxvYz86IEFTVC5Tb3VyY2VMb2NhdGlvbik6IEFTVC5IYXNoUGFpciB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJIYXNoUGFpclwiLFxuICAgIGtleToga2V5LFxuICAgIHZhbHVlLFxuICAgIGxvYzogYnVpbGRMb2MobG9jIHx8IG51bGwpXG4gIH07XG59XG5cbmZ1bmN0aW9uIGJ1aWxkUHJvZ3JhbShib2R5PzogQVNULlN0YXRlbWVudFtdLCBibG9ja1BhcmFtcz86IHN0cmluZ1tdLCBsb2M/OiBBU1QuU291cmNlTG9jYXRpb24pOiBBU1QuUHJvZ3JhbSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJQcm9ncmFtXCIsXG4gICAgYm9keTogYm9keSB8fCBbXSxcbiAgICBibG9ja1BhcmFtczogYmxvY2tQYXJhbXMgfHwgW10sXG4gICAgbG9jOiBidWlsZExvYyhsb2MgfHwgbnVsbClcbiAgfTtcbn1cblxuZnVuY3Rpb24gYnVpbGRTb3VyY2Uoc291cmNlPzogc3RyaW5nKSB7XG4gIHJldHVybiBzb3VyY2UgfHwgbnVsbDtcbn1cblxuZnVuY3Rpb24gYnVpbGRQb3NpdGlvbihsaW5lOiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKSB7XG4gIHJldHVybiB7XG4gICAgbGluZSxcbiAgICBjb2x1bW5cbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFNZTlRIRVRJQzogQVNULlNvdXJjZUxvY2F0aW9uID0geyBzb3VyY2U6ICcoc3ludGhldGljKScsIHN0YXJ0OiB7IGxpbmU6IDEsIGNvbHVtbjogMCB9LCBlbmQ6IHsgbGluZTogMSwgY29sdW1uOiAwIH0gfTtcblxuZnVuY3Rpb24gYnVpbGRMb2MobG9jOk9wdGlvbjxBU1QuU291cmNlTG9jYXRpb24+KTogQVNULlNvdXJjZUxvY2F0aW9uO1xuZnVuY3Rpb24gYnVpbGRMb2Moc3RhcnRMaW5lOiBudW1iZXIsIHN0YXJ0Q29sdW1uOiBudW1iZXIsIGVuZExpbmU/OiBudW1iZXIsIGVuZENvbHVtbj86IG51bWJlciwgc291cmNlPzogc3RyaW5nKTogQVNULlNvdXJjZUxvY2F0aW9uO1xuXG5mdW5jdGlvbiBidWlsZExvYyguLi5hcmdzOiBhbnlbXSk6IEFTVC5Tb3VyY2VMb2NhdGlvbiB7XG4gIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgIGxldCBsb2MgPSBhcmdzWzBdO1xuXG4gICAgaWYgKGxvYyAmJiB0eXBlb2YgbG9jID09PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc291cmNlOiBidWlsZFNvdXJjZShsb2Muc291cmNlKSxcbiAgICAgICAgc3RhcnQ6IGJ1aWxkUG9zaXRpb24obG9jLnN0YXJ0LmxpbmUsIGxvYy5zdGFydC5jb2x1bW4pLFxuICAgICAgICBlbmQ6IGJ1aWxkUG9zaXRpb24obG9jLmVuZC5saW5lLCBsb2MuZW5kLmNvbHVtbilcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBTWU5USEVUSUM7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGxldCBbIHN0YXJ0TGluZSwgc3RhcnRDb2x1bW4sIGVuZExpbmUsIGVuZENvbHVtbiwgc291cmNlIF0gPSBhcmdzO1xuICAgIHJldHVybiB7XG4gICAgICBzb3VyY2U6IGJ1aWxkU291cmNlKHNvdXJjZSksXG4gICAgICBzdGFydDogYnVpbGRQb3NpdGlvbihzdGFydExpbmUsIHN0YXJ0Q29sdW1uKSxcbiAgICAgIGVuZDogYnVpbGRQb3NpdGlvbihlbmRMaW5lLCBlbmRDb2x1bW4pXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG11c3RhY2hlOiBidWlsZE11c3RhY2hlLFxuICBibG9jazogYnVpbGRCbG9jayxcbiAgcGFydGlhbDogYnVpbGRQYXJ0aWFsLFxuICBjb21tZW50OiBidWlsZENvbW1lbnQsXG4gIG11c3RhY2hlQ29tbWVudDogYnVpbGRNdXN0YWNoZUNvbW1lbnQsXG4gIGVsZW1lbnQ6IGJ1aWxkRWxlbWVudCxcbiAgZWxlbWVudE1vZGlmaWVyOiBidWlsZEVsZW1lbnRNb2RpZmllcixcbiAgYXR0cjogYnVpbGRBdHRyLFxuICB0ZXh0OiBidWlsZFRleHQsXG4gIHNleHByOiBidWlsZFNleHByLFxuICBwYXRoOiBidWlsZFBhdGgsXG4gIGNvbmNhdDogYnVpbGRDb25jYXQsXG4gIGhhc2g6IGJ1aWxkSGFzaCxcbiAgcGFpcjogYnVpbGRQYWlyLFxuICBsaXRlcmFsOiBidWlsZExpdGVyYWwsXG4gIHByb2dyYW06IGJ1aWxkUHJvZ3JhbSxcbiAgbG9jOiBidWlsZExvYyxcbiAgcG9zOiBidWlsZFBvc2l0aW9uLFxuXG4gIHN0cmluZzogbGl0ZXJhbCgnU3RyaW5nTGl0ZXJhbCcpLFxuICBib29sZWFuOiBsaXRlcmFsKCdCb29sZWFuTGl0ZXJhbCcpLFxuICBudW1iZXI6IGxpdGVyYWwoJ051bWJlckxpdGVyYWwnKSxcbiAgdW5kZWZpbmVkKCkgeyByZXR1cm4gYnVpbGRMaXRlcmFsKCdVbmRlZmluZWRMaXRlcmFsJywgdW5kZWZpbmVkKTsgfSxcbiAgbnVsbCgpIHsgcmV0dXJuIGJ1aWxkTGl0ZXJhbCgnTnVsbExpdGVyYWwnLCBudWxsKTsgfVxufTtcblxuZnVuY3Rpb24gbGl0ZXJhbDxUIGV4dGVuZHMgQVNULkxpdGVyYWw+KHR5cGU6IFRbJ3R5cGUnXSkge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWU6IFRbJ3ZhbHVlJ10pIHtcbiAgICByZXR1cm4gYnVpbGRMaXRlcmFsKHR5cGUsIHZhbHVlKTtcbiAgfTtcbn1cbiJdfQ==